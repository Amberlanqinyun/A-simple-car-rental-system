{% extends 'layout.html' %}

{% block title %}Staff Profile{% endblock %}

{% block content %}
    {% for message in get_flashed_messages(category_filter=['success']) %}
    <div class="alert alert-success" role="alert">
    {{ message }}
    </div>
    {% endfor %}
    {% for message in get_flashed_messages(category_filter=['danger']) %}
    <div class="alert alert-danger" role="alert">
    {{ message }}
    </div>
    {% endfor %}
    {% if role == 'customer' %}
    <div class="profile-container">
        <h2>Update Your Profile</h2>
        <form action="{{ url_for('profile') }}" method="POST">
            <label for="username">Name:</label>
            <input type="text" name="username" value="{{ account['CustomerName'] }}" >
            <br>
            <label for="email">Email:</label>
            <input type="email" name="email" value="{{ account['Email'] }}" >
            <br>
            <label for="address">Address:</label>
            <input type="text" name="address" value="{{ account['Address'] }}" >
            <br>
            <label for="phone">Phone Number:</label>
            <input type="text" name="phone" value="{{ account['PhoneNumber'] }}">
            <br>
            <label for="password">New Password:</label>
            <input type="password" name="password">
            <br>
            <button type="submit">Update Profile</button>
        </form>
    </div>
    {% endif %}

    {% if role == 'staff' or role == 'admin' %}
    <div class="profile-container">
        <h2>Update Your Profile</h2>
        <form action="{{ url_for('profile') }}" method="POST">
            <label for="username">Name:</label>
            <input type="text" name="username" value="{{ account['StaffName'] }}" >
            <br>
            <label for="email">Email:</label>
            <input type="email" name="email" value="{{ account['Email'] }}" >
            <br>
            <label for="address">Address:</label>
            <input type="text" name="address" value="{{ account['Address'] }}" >
            <br>
            <label for="phone">Phone Number:</label>
            <input type="text" name="phone" value="{{ account['PhoneNumber'] }}" >
            <br>
            <label for="password">New Password:</label>
            <input type="password" name="password">
            <br>
            <button type="submit">Update Profile</button>
        </form>
    </div>
    {% endif %}
{% endblock %}
