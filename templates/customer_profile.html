{% extends 'layout.html' %}

{% block title %}Profile{% endblock %}

{% block content %}
{% for message in get_flashed_messages(category_filter=['success']) %}
    <p>{{ message }}</p>
{% endfor %}
<div class="profile-container">
    {% role = customer %}
    <h2>Update Your Profile</h2>
    <form action="{{ url_for('profile') }}" method="POST">
        <label for="username">Name:</label>
        <input type="text" name="username" value="{{ account.CustomerName }}" required>
        <br>
        <label for="email">Email:</label>
        <input type="email" name="email" value="{{ account.Email }}" required>
        <br>
        <label for="address">Address:</label>
        <input type="text" name="address" value="{{ account.Address }}" required>
        <br>
        <label for="phone">Phone Number:</label>
        <input type="text" name="phone" value="{{ account.PhoneNumber }}" required>
        <br>
        <label for="password">New Password:</label>
        <input type="password" name="password">
        <br>
        <button type="submit">Update Profile</button>
    </form>
    {%endif%}
    {%if role == staff % or role == admin %}
    <form action="{{ url_for('profile') }}" method="POST">
        <label for="username">Name:</label>
        <input type="text" name="username" value="{{ account.StaffName }}" required>
        <br>
        <label for="email">Email:</label>
        <input type="email" name="email" value="{{ account.Email }}" required>
        <br>
        <label for="address">Address:</label>
        <input type="text" name="address" value="{{ account.Address }}" required>
        <br>
        <label for="phone">Phone Number:</label>
        <input type="text" name="phone" value="{{ account.PhoneNumber }}" required>
        <br>
        <label for="password">New Password:</label>
        <input type="password" name="password">
        <br>
        <button type="submit">Update Profile</button>
    </form>
    {%endif%}
</div>
{% endblock %}
{% endblock %}